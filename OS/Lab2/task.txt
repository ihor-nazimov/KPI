Лабораторная работа № 2

Подсчет размера файлов/каталогов

Написать программу, выдающую размер указанных файлов/каталогов. Аргументы задаются в командной строке через пробел. Если аргументов не передано, то выдать размер текущего каталога. Для получения информации о размере файле обычного типа следует использовать функцию lstat, а не stat. Размер файлов остальных типов (кроме каталогов) следует принять равным нулю. Размер каталога есть сумма размеров всех входящих в него файлов и подкаталогов. Использование функции ftw категорически запрещается.
При любых ошибках необходимо выдавать соответствующие диагностические сообщения; размер файлов/каталогов, доступ к которым запрещен, следует принять равным нулю и продолжить работу. Во избежание зацикливания программы символические ссылки следует игнорировать. Максимальную длину составного имени файла следует принять равной 1024 байтам. При превышении данного предела следует выдать диагностическое сообщение и продолжить работу.

